This is a Node.js application that scrapes font styles and primary button styles from Shopify product pages. It uses TypeScript, Puppeteer, and Express to create an API endpoint that accepts a Shopify product page URL and returns JSON data containing the fonts and button styles used on that page.

Prerequisites

    Node.js (v12 or higher)
    npm (Node Package Manager) comes bundled with Node.js

Installation

    Clone the repository:

git clone https://github.com/oozan/shopify-scraper.git

Navigate to the project directory

cd shopify-scraper

Install the dependencies

    npm install

    This will install all required packages listed in the package.json file.

Usage
Compiling the TypeScript Code

The application is written in TypeScript and needs to be compiled to JavaScript before running.

    Compile the TypeScript code:

    npx tsc

    This command uses the TypeScript compiler to compile the code according to the settings in tsconfig.json. The compiled JavaScript files will be placed in the dist directory.

Running the Application

After compiling, you can run the application using Node.js

node dist/index.js

This will start the server on the port specified in the application (default is 3000)You should see output similar to:

arduino

Server is running on port 3000

Make a request to the API:

Open your web browser or use a tool like curl or Postman to make a GET request to the endpoint with the desired Shopify product page URL.

Example Request URL:

    http://localhost:3000/scrape?url=https://growgrows.com/en-us/products/plentiful-planets-sleepsuit

Expected API Response

Here is an example of the expected JSON response from the API:

```json
{
  "fonts": [
    {
      "family": "Helvetica",
      "variants": "400",
      "letterSpacings": "0.01em",
      "fontWeight": "400",
      "url": "https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    }
  ],
  "primaryButton": {
    "fontFamily": "Helvetica",
    "fontSize": "16px",
    "lineHeight": "1.5",
    "letterSpacing": "0.01em",
    "textTransform": "uppercase",
    "textDecoration": "underline",
    "textAlign": "left",
    "backgroundColor": "#000",
    "color": "#fff",
    "borderColor": "#000",
    "borderWidth": "1px",
    "borderRadius": "4px"
  }
}
```

In this example, the API provides:

    Fonts: A list of fonts used on the product page, including details like family, variants, letterSpacings, fontWeight, and the url to load the font from Google Fonts if available.
    Primary Button: Detailed style properties for the primary "Add to Cart" button, including fontFamily, fontSize, lineHeight, letterSpacing, textTransform, and various color and border settings.

Project Structure

```graphql
shopify-scraper/
├── node_modules/          # Installed dependencies (not included in the repo)
├── src/
│   └── index.ts           # Main application code
├── dist/
│   └── index.js           # Compiled JavaScript code (generated by tsc)
├── .gitignore             # Git ignore file
├── package.json           # Node.js project metadata and scripts
├── package-lock.json      # Lockfile for exact dependency versions
├── tsconfig.json          # TypeScript compiler configuration
├── README.md              # This readme file
```
